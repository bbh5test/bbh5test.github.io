import{_ as h,k as y,d as g,b as t,m as a,w as d,ae as V,r as n,o as b,f as w,p as k,g as C}from"./index.77ec16e9.js";const x={name:"Penalty",data(){return{type:0,violationColumns:["\u7FA4\u7981\u8A00","\u7FA4\u6162\u901F"],description:"",profilePicture:[]}},mounted(){this.init()},methods:{async init(){let e=this.$toast.loading({message:"Loading...",forbidClick:!0,duration:0});try{let o=await y.groupViolation.getCurrentViolation(this.$route.params.groupId);if(console.log(o),o.status==1){this.type=o.data.type,this.description=o.data.description;let s=JSON.parse(o.data.images);if(s.length>0)for(let c of s)this.profilePicture.push({url:c})}}catch(o){console.log(o)}finally{e.clear()}},async dealWithViolation(){this.$store.commit("setTradeVisable",!0),this.$store.commit("setPaymentType",1)}}},p=e=>(k("data-v-188c722c"),e=e(),C(),e),I={class:"violation"},P={class:"form-item"},$=p(()=>t("label",null,"\u5904\u7F5A\u7C7B\u578B",-1)),N={class:"form-item"},S=p(()=>t("label",null,"\u5904\u7F5A\u4F9D\u636E",-1)),T={class:"form-item"},W=p(()=>t("label",null,"\u4F9D\u636E\u622A\u56FE",-1)),B={class:"submit-violation"},z=w("\u5904\u7406\u8FDD\u89C4");function L(e,o,s,c,i,u){const m=n("van-nav-bar"),r=n("van-field"),_=n("van-uploader"),f=n("van-form"),v=n("van-button");return b(),g("div",I,[t("div",null,[a(m,{onClickLeft:o[0]||(o[0]=l=>e.$router.push({name:"GroupDetail",params:{groupId:e.$route.params.groupId}})),"left-arrow":"","safe-area-inset-top":"","z-index":"2",title:"\u8FDD\u89C4\u5904\u7F5A"})]),t("div",null,[a(f,{class:"form-box",ref:"form"},{default:d(()=>[t("div",P,[$,a(r,{class:"form-input","model-value":i.violationColumns[i.type],onClick:o[1]||(o[1]=l=>e.showViolationTypePicker=!0),"is-link":"","arrow-direction":"down",readonly:"",name:"picker"},null,8,["model-value"])]),t("div",N,[S,a(r,{class:"form-input",modelValue:i.description,"onUpdate:modelValue":o[2]||(o[2]=l=>i.description=l),rows:"6",type:"textarea",maxlength:"100",placeholder:"\u8BF7\u8F93\u5165\u7559\u8A00","show-word-limit":"",readonly:""},null,8,["modelValue"])]),t("div",T,[W,a(r,{class:"form-upload","lazy-load":"true",name:"uploader"},{input:d(()=>[a(_,{modelValue:i.profilePicture,"onUpdate:modelValue":o[3]||(o[3]=l=>i.profilePicture=l),"max-count":"3","upload-text":"\u6700\u591A3\u5F20",deletable:!1,"show-upload":!1},null,8,["modelValue"])]),_:1})])]),_:1},512)]),t("div",B,[a(v,{class:"btn",round:"",block:"",type:"primary",loading:e.loading,onClick:V(u.dealWithViolation,["stop"]),"native-type":"submit"},{default:d(()=>[z]),_:1},8,["loading","onClick"])])])}const D=h(x,[["render",L],["__scopeId","data-v-188c722c"]]);export{D as default};
