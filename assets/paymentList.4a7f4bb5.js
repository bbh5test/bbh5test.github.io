import{_ as m,ag as v,h as o,j as s,k as l,t as a,w as f,r as c,o as n,F as y,x as g,u as k,v as L,p as x,m as b,i as w}from"./index.84cb370a.js";const N={name:"PaymentList",mounted(){this.init()},computed:{paymentList(){return this.$store.state.user.paymentList}},data(){return{loading:!1,error:!1,finished:!1}},watch:{"$store.state.authorization"(t){t&&this.init()}},methods:{getAmount(t){return v(t)},async init(){this.loading=!0,await this.$store.dispatch("getPaymentListAction")?this.finished=!0:this.error=!0,this.loading=!1}}},_=t=>(x("data-v-c1b49b64"),t=t(),b(),t),A={class:"trade-list"},B={class:"header"},D={class:"trade-table-th"},I=_(()=>s("div",{class:"th-1"},"\u4EA4\u6613\u54C8\u5E0C",-1)),M=_(()=>s("div",{class:"th-2"},"\u652F\u4ED8\u9879",-1)),S=_(()=>s("div",{class:"th-3"},"\u91D1\u989D",-1)),C={class:"th-4"},Y={class:"trade-td"},$={class:"td-1"},F={class:"td-2"},H={class:"trade-content"},T={key:0},U={key:1},V={class:"trade-date"},j={class:"td-3"},z={key:0},E={key:1},P={class:"td-4"},J={key:0,class:"used"},q={key:1,class:"unused"};function G(t,i,K,O,d,r){const h=c("van-nav-bar"),p=c("van-empty"),u=c("van-list");return n(),o("div",A,[s("div",B,[l(h,{"left-text":"",onClickLeft:i[0]||(i[0]=e=>t.$router.push({name:"UserInfo"})),"left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:"\u652F\u4ED8\u8BB0\u5F55"})]),s("div",null,[s("div",D,[I,M,S,s("div",C,a(t.$t("status")),1)]),l(u,{loading:d.loading,"onUpdate:loading":i[1]||(i[1]=e=>d.loading=e),"loading-text":t.$t("loading"),finished:d.finished,"finished-text":t.$t("noMore"),error:d.error,"onUpdate:error":i[2]||(i[2]=e=>d.error=e),"error-text":t.$t("errorText"),onLoad:r.init},{default:f(()=>[(n(!0),o(y,null,g(r.paymentList,(e,Q)=>(n(),o("div",Y,[s("div",$,a(t.$f.formatAddress(e.txHash,4)),1),s("div",F,[s("div",H,[e.paymentType==1?(n(),o("span",T,"\u8FDD\u89C4\u5904\u7F5A")):(n(),o("span",U,"\u8D2D\u4E70\u7BA1\u7406\u5458"))]),s("div",V,a(t.$dayjs.unix(e.txTime).format("YYYY-MM-DD HH:MM")),1)]),s("div",j,[e.tokenName=="JF"?(n(),o("span",z,a(r.getAmount(e.amount))+a(e.tokenName),1)):e.tokenName=="BNB"?(n(),o("span",E,a(r.getAmount(e.amount))+a(e.tokenName),1)):w("",!0)]),s("div",P,[e.status==1?(n(),o("div",J,"\u5DF2\u4F7F\u7528")):(n(),o("div",q,"\u672A\u4F7F\u7528"))])]))),256)),k(l(p,{class:"empty",description:t.$t("emptyData")},null,8,["description"]),[[L,r.paymentList&&r.paymentList.length===0&&!d.loading]])]),_:1},8,["loading","loading-text","finished","finished-text","error","error-text","onLoad"])])])}const W=m(N,[["render",G],["__scopeId","data-v-c1b49b64"]]);export{W as default};
