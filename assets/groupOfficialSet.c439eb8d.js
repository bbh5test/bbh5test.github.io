import{_ as G,c as k,e as $,h as m,j as o,k as s,w as a,F as y,r,o as h,ae as V,y as w,t as u,i as g,p as B,m as C,l as v}from"./index.c8b8f13a.js";import{D as T}from"./dialogBase.91be6fe9.js";const N={name:"OfficialSet",components:{DialogBase:T},computed:{isProvider(){return this.$store.state.group.currentUser.role==2}},watch:{"$store.state.group.groupId"(){this.initOfficialGroupInfo(),this.isFirst=!0},"$store.state.group.currentUser.userAddress"(){this.connectVisible=this.$store.state.group.currentUser.role!==2},officialGroupInfo:{handler:function(e,t){this.isFirst||(this.isEdit=!0),this.isFirst=!1},deep:!0},connectVisible(e){e||this.$router.push({name:"GroupDetail",params:{groupId:this.$route.params.groupId}})}},data(){return{connectVisible:this.$store.state.group.currentUser.role!==2,isEdit:!1,isFirst:!0,officialGroupInfo:{}}},mounted(){this.initOfficialGroupInfo()},methods:{async init(){this.isEdit=!1,this.isFirst=!0;try{await this.$store.dispatch("getGroupDetail",this.$route.params.groupId)}catch(e){console.log(e)}},initOfficialGroupInfo(){this.officialGroupInfo={tokenName:this.$store.state.group.name,chain:this.$store.state.group.chain,tokenAddress:this.$store.state.group.address,nftMintUrl:this.$store.state.group.nftMintUrl,nftTradeUrl:this.$store.state.group.nftTradeUrl,officialWebsiteUrl:this.$store.state.group.officialWebsiteUrl}},copy:k,async submit(){if(!this.isEdit)return;if(!this.isProvider){this.connectVisible=!0;return}let e=this.$toast.loading({message:"Loading...",forbidClick:!0,duration:0});try{let t=await $.group.updateProviderInfo(this.$store.state.group.groupId,this.officialGroupInfo.nftMintUrl,this.officialGroupInfo.nftTradeUrl,this.officialGroupInfo.officialWebsiteUrl);console.log(t),t.status==1&&(await this.init(),this.$router.push({name:"GroupDetail",params:{groupId:this.$route.params.groupId}}))}catch(t){console.log(t)}finally{e.clear()}console.log(this.groupInfo)},completeNftMintUrl(){this.officialGroupInfo.nftMintUrl=this.$f.formatLink(this.officialGroupInfo.nftMintUrl)},completeNftTradeUrl(){this.officialGroupInfo.nftTradeUrl=this.$f.formatLink(this.officialGroupInfo.nftTradeUrl)},completeOfficialWebsiteUrl(){this.officialGroupInfo.officialWebsiteUrl=this.$f.formatLink(this.officialGroupInfo.officialWebsiteUrl)}}},f=e=>(B("data-v-86c3d6d8"),e=e(),C(),e),M={class:"official-set"},O={class:"address"},S={class:"form-item"},W={key:0,class:"form-item"},D={key:1,class:"form-item"},F={class:"connect-manager"},L=f(()=>o("div",{class:"warn-info"},[v(" \u4F60\u76EE\u524D\u8FD8\u4E0D\u662F\u9879\u76EE\u65B9\uFF0C\u8BF7\u9996\u5148\u8054\u7CFBBlabla\u7BA1\u7406\u5458\u6210\u4E3A\u9879\u76EE\u65B9\u3002"),o("br"),v(" \u8BF7\u786E\u4FDD\u4F7F\u7528\u5B98\u65B9\u90AE\u7BB1\u6216\u793E\u533A\u7BA1\u7406\u5458\u8D26\u6237\u8054\u7CFB\u4E0B\u65B9\u7684\u8D26\u6237\u3002 ")],-1)),A={class:"connect-way"},E=f(()=>o("div",null,"\u8054\u7CFB\u5B98\u65B9Telegram\uFF1A",-1)),z=f(()=>o("text",null,"https://t.me/aveglobal",-1)),P={class:"connect-way"},x=f(()=>o("div",null,"\u8054\u7CFB\u5B98\u65B9\u90AE\u7BB1\uFF1A",-1)),R=f(()=>o("text",null,"business@blabla.network",-1));function j(e,t,q,H,i,n){const b=r("van-nav-bar"),c=r("van-cell"),p=r("van-icon"),_=r("van-cell-group"),d=r("van-field"),I=r("van-form"),U=r("DialogBase");return h(),m(y,null,[o("div",M,[o("div",null,[s(b,{"left-text":e.$t("cancel"),onClickLeft:t[1]||(t[1]=l=>e.$router.push({name:"GroupDetail",params:{groupId:e.$route.params.groupId}})),fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:"\u7FA4\u5B98\u65B9\u914D\u7F6E"},{right:a(()=>[o("span",{class:"finish",onClick:t[0]||(t[0]=V(l=>e.$refs.form.submit(),["stop"])),style:w({color:i.isEdit?"#9505f9":"#999"})},"\u5B8C\u6210",4)]),_:1},8,["left-text"])]),o("div",null,[s(_,{class:"base-info"},{default:a(()=>[s(c,{title:e.$t("tokenName"),value:i.officialGroupInfo.tokenName},null,8,["title","value"]),s(c,{title:e.$t("chain"),value:i.officialGroupInfo.chain},null,8,["title","value"]),s(c,{title:e.$t("tokenAddress")},{"right-icon":a(()=>[o("div",O,[o("text",null,u(e.$f.formatAddress(i.officialGroupInfo.tokenAddress,4)),1),s(p,{class:"icon",size:"1.1em",name:"/assets/images/copy.png",onClick:t[2]||(t[2]=l=>n.copy(i.officialGroupInfo.tokenAddress))})])]),_:1},8,["title"])]),_:1}),s(I,{class:"form-box",ref:"form",onSubmit:n.submit},{default:a(()=>[o("div",S,[o("label",null,u(e.$t("officialWebsite")),1),s(d,{onBlur:n.completeOfficialWebsiteUrl,maxlength:"300",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B98\u65B9\u7F51\u7AD9"}],modelValue:i.officialGroupInfo.officialWebsiteUrl,"onUpdate:modelValue":t[3]||(t[3]=l=>i.officialGroupInfo.officialWebsiteUrl=l),placeholder:"\u8F93\u5165\u5B98\u65B9\u7F51\u7AD9"},null,8,["onBlur","modelValue"])]),e.$store.state.group.type=="nft"?(h(),m("div",W,[o("label",null,u(e.$("nftMintingUrl")),1),s(d,{onBlur:n.completeNftMintUrl,maxlength:"300",modelValue:i.officialGroupInfo.nftMintUrl,"onUpdate:modelValue":t[4]||(t[4]=l=>i.officialGroupInfo.nftMintUrl=l),placeholder:"\u8F93\u5165NFT\u94F8\u9020URL"},null,8,["onBlur","modelValue"])])):g("",!0),e.$store.state.group.type=="nft"?(h(),m("div",D,[o("label",null,u(e.$("nftTradingUrl")),1),s(d,{onBlur:n.completeNftTradeUrl,maxlength:"300",modelValue:i.officialGroupInfo.nftTradeUrl,"onUpdate:modelValue":t[5]||(t[5]=l=>i.officialGroupInfo.nftTradeUrl=l),placeholder:"\u8F93\u5165NFT\u4EA4\u6613URL"},null,8,["onBlur","modelValue"])])):g("",!0)]),_:1},8,["onSubmit"])])]),s(U,{visible:i.connectVisible,"onUpdate:visible":t[8]||(t[8]=l=>i.connectVisible=l),title:e.$t("tips"),showConfirmButton:!0,showCancelButton:!1,onOnConfirm:e.kickConfirm},{default:a(()=>[o("div",F,[L,o("div",A,[E,o("div",null,[z,s(p,{class:"icon",size:"1em",name:"/assets/images/copy.png",onClick:t[6]||(t[6]=l=>n.copy("https://t.me/aveglobal"))})])]),o("div",P,[x,o("div",null,[R,s(p,{class:"icon",size:"1em",name:"/assets/images/copy.png",onClick:t[7]||(t[7]=l=>n.copy("business@blabla.network"))})])])])]),_:1},8,["visible","title","onOnConfirm"])],64)}const Q=G(N,[["render",j],["__scopeId","data-v-86c3d6d8"]]);export{Q as default};
