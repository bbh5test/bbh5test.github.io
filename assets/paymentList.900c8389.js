import{_ as u,ag as p,h as a,j as n,k as l,t as s,w as v,r as h,o,F as y,x as f,u as g,v as k,i as L}from"./index.c8b8f13a.js";const $={name:"PaymentList",mounted(){this.init()},computed:{paymentList(){return this.$store.state.user.paymentList}},data(){return{loading:!1,error:!1,finished:!1}},watch:{"$store.state.authorization"(t){t&&this.init()}},methods:{getAmount(t){return p(t)},async init(){this.loading=!0,await this.$store.dispatch("getPaymentListAction")?this.finished=!0:this.error=!0,this.loading=!1}}},N={class:"trade-list"},w={class:"header"},x={class:"trade-table-th"},A={class:"th-1"},B={class:"th-2"},D={class:"th-3"},M={class:"th-4"},U={class:"trade-td"},C={class:"td-1"},H={class:"td-2"},P={class:"trade-content"},Y={key:0},b={key:1},F={class:"trade-date"},I={class:"td-3"},T={key:0},V={key:1},j={class:"td-4"},z={key:0,class:"used"},E={key:1,class:"unused"};function S(t,i,J,R,d,r){const _=h("van-nav-bar"),c=h("van-empty"),m=h("van-list");return o(),a("div",N,[n("div",w,[l(_,{"left-text":"",onClickLeft:i[0]||(i[0]=e=>t.$router.push({name:"UserInfo"})),"left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:t.$t("paymentRecords")},null,8,["title"])]),n("div",null,[n("div",x,[n("div",A,s(t.$t("txHash")),1),n("div",B,s(t.$t("paymentItem")),1),n("div",D,s(t.$t("amount")),1),n("div",M,s(t.$t("status")),1)]),l(m,{loading:d.loading,"onUpdate:loading":i[1]||(i[1]=e=>d.loading=e),"loading-text":t.$t("loading"),finished:d.finished,"finished-text":t.$t("noMore"),error:d.error,"onUpdate:error":i[2]||(i[2]=e=>d.error=e),"error-text":t.$t("errorText"),onLoad:r.init},{default:v(()=>[(o(!0),a(y,null,f(r.paymentList,(e,q)=>(o(),a("div",U,[n("div",C,s(t.$f.formatAddress(e.txHash,4)),1),n("div",H,[n("div",P,[e.paymentType==1?(o(),a("span",Y,s(t.$t("violationPenalty")),1)):(o(),a("span",b,s(t.$t("adminPurchase")),1))]),n("div",F,s(t.$dayjs.unix(e.txTime).format("YYYY-MM-DD HH:MM")),1)]),n("div",I,[e.tokenName=="JF"?(o(),a("span",T,s(r.getAmount(e.amount))+s(e.tokenName),1)):e.tokenName=="BNB"?(o(),a("span",V,s(r.getAmount(e.amount))+s(e.tokenName),1)):L("",!0)]),n("div",j,[e.status==1?(o(),a("div",z,s(t.$t("paymentUsed")),1)):(o(),a("div",E,s(t.$t("paymentUnused")),1))])]))),256)),g(l(c,{class:"empty",description:t.$t("emptyData")},null,8,["description"]),[[k,r.paymentList&&r.paymentList.length===0&&!d.loading]])]),_:1},8,["loading","loading-text","finished","finished-text","error","error-text","onLoad"])])])}const K=u($,[["render",S],["__scopeId","data-v-36ac5212"]]);export{K as default};
