import{A as B}from"./avatar.fbabc6b0.js";import{_ as L,c as $,d as _,m as n,w as p,b as s,t as d,a as m,e as f,r as i,o as a,f as F}from"./index.b2dfe4f8.js";const S={name:"UserInfo",components:{Avatar:B},data(){return{showLanPicker:!1,langObj:{en:"\u82F1\u6587","zh-cn":"\u7B80\u4F53\u4E2D\u6587"}}},computed:{userInfo(){var t;return(t=this.$store.state)==null?void 0:t.user},language(){return this.$store.getters.language},actions(){return[{name:this.$t("common.zh-cn"),value:"zh-cn",color:this.language==="zh-cn"?"#9505F9":"#323233"},{name:this.$t("common.en"),value:"en",color:this.language==="en"?"#9505F9":"#323233"}]}},mounted(){},watch:{},methods:{jumpToEdit(){this.$router.push("/userInfo/set")},copy:$,onSelect(t){this.$store.commit("setLanguage",t.value)},loginOut(){this.$dialog.confirm({title:this.$t("tips"),message:"\u662F\u5426\u9000\u51FA\u767B\u5F55",confirmButtonText:this.$t("confirm"),confirmButtonColor:"#3F80F7",cancelButtonText:this.$t("cancel")}).then(async()=>{this.$store.state.wallet=="WalletConnect"&&await this.$store.state.provider.disconnect(),this.$store.commit("logout"),this.$store.commit("setUserInfo",{}),this.$store.dispatch("checkLogin")}).catch(()=>{})}}},T={class:"userinfo"},j={class:"userinfo-content"},N={class:"section-top"},O={class:"nickname"},P={key:0},V={key:1},E={class:"token"},U={class:"section-center"},x={class:"trade-list cell-item"},D={class:"change-lan cell-item"},R={class:"login-out"};function W(t,o,q,G,u,e){var h,g,I,k,b,y;const v=i("van-icon"),w=i("van-nav-bar"),A=i("Avatar"),r=i("van-cell"),C=i("van-action-sheet"),z=i("van-button");return a(),_("div",T,[n(w,{fixed:"","safe-area-inset-top":"","z-index":"2",title:t.$t("settings")},{right:p(()=>[n(v,{class:"icon",size:"1.6em",name:"/assets/images/edit.png",onClick:e.jumpToEdit},null,8,["onClick"])]),_:1},8,["title"]),s("div",j,[s("div",N,[n(A,{class:"avatar",image:e.userInfo.image,address:e.userInfo.userAddress},null,8,["image","address"]),s("div",O,[(h=e.userInfo)!=null&&h.nickname?(a(),_("span",P,d((g=e.userInfo)==null?void 0:g.nickname),1)):(a(),_("span",V,d(((I=e.userInfo)==null?void 0:I.userAddress)&&t.$f.formatAddress((k=e.userInfo)==null?void 0:k.userAddress,4)),1))]),s("div",E,[s("text",null,d(((b=e.userInfo)==null?void 0:b.userAddress)&&t.$f.formatAddress((y=e.userInfo)==null?void 0:y.userAddress,6)),1),n(v,{class:"icon",size:"1em",name:"/assets/images/copy.png",onClick:o[0]||(o[0]=l=>{var c;return e.copy((c=e.userInfo)==null?void 0:c.userAddress)})})])]),s("div",U,[e.userInfo.mobile?(a(),m(r,{key:0,title:t.$t("mobile")+":",border:!1,value:e.userInfo.countryCode+"-"+e.userInfo.mobile},null,8,["title","value"])):f("",!0),e.userInfo.email?(a(),m(r,{key:1,title:t.$t("email")+":",border:!1,value:e.userInfo.email},null,8,["title","value"])):f("",!0),e.userInfo.website?(a(),m(r,{key:2,title:t.$t("website")+":",border:!1,value:e.userInfo.website},null,8,["title","value"])):f("",!0),e.userInfo.bio?(a(),m(r,{key:3,title:t.$t("bio")+":",border:!1,value:e.userInfo.bio},null,8,["title","value"])):f("",!0)])]),s("div",x,[n(r,{title:t.$t("paymentRecords"),"is-link":"",to:"/userInfo/paymentList"},null,8,["title"])]),s("div",D,[n(r,{"is-link":"",title:t.$t("language"),value:u.langObj[e.language],onClick:o[1]||(o[1]=l=>u.showLanPicker=!0)},null,8,["title","value"]),n(C,{show:u.showLanPicker,"onUpdate:show":o[2]||(o[2]=l=>u.showLanPicker=l),actions:e.actions,"cancel-text":t.$t("cancel"),"close-on-click-action":"",onSelect:e.onSelect},null,8,["show","actions","cancel-text","onSelect"])]),s("div",R,[n(z,{class:"btn",onClick:e.loginOut,size:"large",plain:"",round:"",type:"primary"},{default:p(()=>{var l,c;return[F(d(`${t.$t("disconnectFrom1")}${((l=e.userInfo)==null?void 0:l.userAddress)&&t.$f.formatAddress((c=e.userInfo)==null?void 0:c.userAddress,6)}${t.$t("disconnectFrom2")}`),1)]}),_:1},8,["onClick"])])])}const K=L(S,[["render",W],["__scopeId","data-v-1a6afd78"]]);export{K as default};
