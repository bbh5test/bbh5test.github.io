import{_ as u,ag as p,d as o,b as n,m as l,t as s,w as v,r as h,o as a,F as y,x as f,u as g,v as k,e as L}from"./index.2fbacc60.js";const $={name:"PaymentList",mounted(){this.init()},computed:{paymentList(){return this.$store.state.user.paymentList}},data(){return{loading:!1,error:!1,finished:!1}},watch:{"$store.state.authorization"(t){t&&this.init()}},methods:{getAmount(t){return p(t)},async init(){this.loading=!0,await this.$store.dispatch("getPaymentListAction")?this.finished=!0:this.error=!0,this.loading=!1}}},N={class:"trade-list"},w={class:"header"},b={class:"trade-table-th"},x={class:"th-1"},A={class:"th-2"},B={class:"th-3"},D={class:"th-4"},M={class:"trade-td"},U={class:"td-1"},C={class:"td-2"},H={class:"trade-content"},P={key:0},Y={key:1},F={class:"trade-date"},I={class:"td-3"},T={key:0},V={key:1},z={class:"td-4"},E={key:0,class:"used"},S={key:1,class:"unused"};function j(t,i,J,R,d,r){const _=h("van-nav-bar"),c=h("van-empty"),m=h("van-list");return a(),o("div",N,[n("div",w,[l(_,{"left-text":"",onClickLeft:i[0]||(i[0]=e=>t.$router.push({name:"UserInfo"})),"left-arrow":"",fixed:"",placeholder:"","safe-area-inset-top":"","z-index":"2",title:t.$t("paymentRecords")},null,8,["title"])]),n("div",null,[n("div",b,[n("div",x,s(t.$t("txHash")),1),n("div",A,s(t.$t("paymentItem")),1),n("div",B,s(t.$t("amount")),1),n("div",D,s(t.$t("status")),1)]),l(m,{loading:d.loading,"onUpdate:loading":i[1]||(i[1]=e=>d.loading=e),"loading-text":t.$t("loading"),finished:d.finished,"finished-text":t.$t("noMore"),error:d.error,"onUpdate:error":i[2]||(i[2]=e=>d.error=e),"error-text":t.$t("errorText"),onLoad:r.init},{default:v(()=>[(a(!0),o(y,null,f(r.paymentList,(e,q)=>(a(),o("div",M,[n("div",U,s(t.$f.formatAddress(e.txHash,4)),1),n("div",C,[n("div",H,[e.paymentType==1?(a(),o("span",P,s(t.$t("violationPenalty")),1)):(a(),o("span",Y,s(t.$t("adminPurchase")),1))]),n("div",F,s(t.$dayjs.unix(e.txTime).format("YYYY-MM-DD HH:MM")),1)]),n("div",I,[e.tokenName=="JF"?(a(),o("span",T,s(r.getAmount(e.amount))+s(e.tokenName),1)):e.tokenName=="BNB"?(a(),o("span",V,s(r.getAmount(e.amount))+s(e.tokenName),1)):L("",!0)]),n("div",z,[e.status==1?(a(),o("div",E,s(t.$t("paymentUsed")),1)):(a(),o("div",S,s(t.$t("paymentUnused")),1))])]))),256)),g(l(c,{class:"empty",description:t.$t("emptyData")},null,8,["description"]),[[k,r.paymentList&&r.paymentList.length===0&&!d.loading]])]),_:1},8,["loading","loading-text","finished","finished-text","error","error-text","onLoad"])])])}const K=u($,[["render",j],["__scopeId","data-v-5d5153b7"]]);export{K as default};
