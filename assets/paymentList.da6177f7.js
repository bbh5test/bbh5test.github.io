import{_ as m,aj as p,d as a,b as s,m as _,t as n,w as u,r as l,o,F as v,x as y,u as E,v as g,e as T}from"./index.cfe576c9.js";const k={name:"PaymentList",mounted(){this.init()},computed:{paymentList(){return this.$store.state.user.paymentList}},data(){return{txNetWork:{VITE_SUPPORT_NET:"4",VITE_CONTRACT_BLABLA_PAY:"0x1BEcc0D044267540e81C1d203Eb7875ED9ff120F",VITE_WEB_SOCKET_URL:"wss://test-api.blabla.network/ws",VITE_BASE_API:"https://test-api.blabla.network",VITE_CONTRACT_RED_PACKET:"0xad3f6E6d8B3D08Ed7d46988fDb4a324e6F6006C6",VITE_JF_TOKEN:"0xaf22f677373352761b7f8faff4c9ad7bd8b6be42",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_TX_NETWORK,loading:!1,error:!1,finished:!1}},watch:{"$store.state.authorization"(t){t&&this.init()}},methods:{getAmount(t){return p(t)},async init(){this.loading=!0,await this.$store.dispatch("getPaymentListAction")?this.finished=!0:this.error=!0,this.loading=!1}}},L={class:"trade-list"},b={class:"header"},N={class:"table"},A={class:"trade-table-th"},D={class:"th-1"},$={class:"th-2"},B={class:"th-3"},C={class:"th-4"},w={class:"trade-td"},I={class:"td-1"},V=["href"],x={class:"td-2"},P={class:"trade-content"},R={key:0},O={key:1},U={class:"trade-date"},F={class:"td-3"},S={key:0},H={key:1},Y={class:"td-4"},K={key:0,class:"used"},M={key:1,class:"unused"};function W(t,d,j,z,i,r){const h=l("van-nav-bar"),c=l("van-empty"),f=l("van-list");return o(),a("div",L,[s("div",b,[_(h,{onClickLeft:d[0]||(d[0]=e=>t.$router.push({name:"UserInfo"})),"left-arrow":"",fixed:"","safe-area-inset-top":"","z-index":"2",title:t.$t("paymentRecords")},null,8,["title"])]),s("div",N,[s("div",A,[s("div",D,n(t.$t("txHash")),1),s("div",$,n(t.$t("paymentItem")),1),s("div",B,n(t.$t("amount")),1),s("div",C,n(t.$t("status")),1)]),_(f,{loading:i.loading,"onUpdate:loading":d[1]||(d[1]=e=>i.loading=e),"loading-text":t.$t("loading"),finished:i.finished,"finished-text":t.$t("noMore"),error:i.error,"onUpdate:error":d[2]||(d[2]=e=>i.error=e),"error-text":t.$t("errorText"),onLoad:r.init},{default:u(()=>[(o(!0),a(v,null,y(r.paymentList,(e,J)=>(o(),a("div",w,[s("div",I,[s("a",{href:`${i.txNetWork}${e.txHash}`,target:"_blank"},n(t.$f.formatAddress(e.txHash,4)),9,V)]),s("div",x,[s("div",P,[e.paymentType==1?(o(),a("span",R,n(t.$t("violationPenalty")),1)):(o(),a("span",O,n(t.$t("adminPurchase")),1))]),s("div",U,n(t.$dayjs.unix(e.txTime).format("YYYY-MM-DD HH:mm")),1)]),s("div",F,[e.tokenName=="JF"?(o(),a("span",S,n(r.getAmount(e.amount))+n(e.tokenName),1)):e.tokenName=="BNB"?(o(),a("span",H,n(r.getAmount(e.amount))+n(e.tokenName),1)):T("",!0)]),s("div",Y,[e.status==1?(o(),a("div",K,n(t.$t("paymentUsed")),1)):(o(),a("div",M,n(t.$t("paymentUnused")),1))])]))),256)),E(_(c,{class:"empty",description:t.$t("emptyData")},null,8,["description"]),[[g,r.paymentList&&r.paymentList.length===0&&!i.loading]])]),_:1},8,["loading","loading-text","finished","finished-text","error","error-text","onLoad"])])])}const q=m(k,[["render",W],["__scopeId","data-v-3c65d2f5"]]);export{q as default};
