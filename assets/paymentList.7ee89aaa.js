import{_ as u,aj as p,d as o,b as n,m as l,t as s,w as v,r as _,o as a,F as f,x as y,u as g,v as k,e as L}from"./index.94641b42.js";const $={name:"PaymentList",mounted(){this.init()},computed:{paymentList(){return this.$store.state.user.paymentList}},data(){return{loading:!1,error:!1,finished:!1}},watch:{"$store.state.authorization"(t){t&&this.init()}},methods:{getAmount(t){return p(t)},async init(){this.loading=!0,await this.$store.dispatch("getPaymentListAction")?this.finished=!0:this.error=!0,this.loading=!1}}},N={class:"trade-list"},w={class:"header"},b={class:"table"},A={class:"trade-table-th"},B={class:"th-1"},D={class:"th-2"},M={class:"th-3"},U={class:"th-4"},x={class:"trade-td"},C={class:"td-1"},H={class:"td-2"},P={class:"trade-content"},Y={key:0},F={key:1},I={class:"trade-date"},T={class:"td-3"},V={key:0},j={key:1},z={class:"td-4"},E={key:0,class:"used"},S={key:1,class:"unused"};function J(t,i,R,q,d,r){const h=_("van-nav-bar"),c=_("van-empty"),m=_("van-list");return a(),o("div",N,[n("div",w,[l(h,{onClickLeft:i[0]||(i[0]=e=>t.$router.push({name:"UserInfo"})),"left-arrow":"",fixed:"","safe-area-inset-top":"","z-index":"2",title:t.$t("paymentRecords")},null,8,["title"])]),n("div",b,[n("div",A,[n("div",B,s(t.$t("txHash")),1),n("div",D,s(t.$t("paymentItem")),1),n("div",M,s(t.$t("amount")),1),n("div",U,s(t.$t("status")),1)]),l(m,{loading:d.loading,"onUpdate:loading":i[1]||(i[1]=e=>d.loading=e),"loading-text":t.$t("loading"),finished:d.finished,"finished-text":t.$t("noMore"),error:d.error,"onUpdate:error":i[2]||(i[2]=e=>d.error=e),"error-text":t.$t("errorText"),onLoad:r.init},{default:v(()=>[(a(!0),o(f,null,y(r.paymentList,(e,G)=>(a(),o("div",x,[n("div",C,s(t.$f.formatAddress(e.txHash,4)),1),n("div",H,[n("div",P,[e.paymentType==1?(a(),o("span",Y,s(t.$t("violationPenalty")),1)):(a(),o("span",F,s(t.$t("adminPurchase")),1))]),n("div",I,s(t.$dayjs.unix(e.txTime).format("YYYY-MM-DD HH:MM")),1)]),n("div",T,[e.tokenName=="JF"?(a(),o("span",V,s(r.getAmount(e.amount))+s(e.tokenName),1)):e.tokenName=="BNB"?(a(),o("span",j,s(r.getAmount(e.amount))+s(e.tokenName),1)):L("",!0)]),n("div",z,[e.status==1?(a(),o("div",E,s(t.$t("paymentUsed")),1)):(a(),o("div",S,s(t.$t("paymentUnused")),1))])]))),256)),g(l(c,{class:"empty",description:t.$t("emptyData")},null,8,["description"]),[[k,r.paymentList&&r.paymentList.length===0&&!d.loading]])]),_:1},8,["loading","loading-text","finished","finished-text","error","error-text","onLoad"])])])}const O=u($,[["render",J],["__scopeId","data-v-3d055f24"]]);export{O as default};
