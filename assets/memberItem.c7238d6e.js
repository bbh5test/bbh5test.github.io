import{_ as h,A as M,z as v,o as a,f as I,y as f,w as o,i as t,j as i,t as c,g as n,h as y,r}from"./index.2b2030c9.js";const p={name:"MemberList",components:{Avatar:M,RoleTag:v},props:{groupMemberItem:{type:Object},role:{type:Number},userRole:{type:Number}},data(){return{status:this.groupMemberItem.status}},mounted(){this.joinDays()},methods:{joinDays(s){return parseInt((new Date().getTime()/1e3-s)/(24*60*60))},unbaned(){this.$dialog.confirm({title:"\u63D0\u793A",message:"\u662F\u5426\u89E3\u9664\u7981\u8A00",confirmButtonText:"\u786E\u8BA4",confirmButtonColor:"#3F80F7",cancelButtonText:"\u53D6\u6D88"}).then(async()=>{try{(await api.group.manageMember(this.$store.state.group.groupId,this.groupMemberItem.userAddress,0,0)).status==1&&(this.status=0,this.$toast("\u89E3\u9664\u7981\u8A00\u6210\u529F"))}catch(s){console.log(s)}}).catch(()=>{})}}},k={class:"member-item-info"},R={class:"top"},j={class:"name"},T={class:"is-online"},x={key:0,class:"online"},B={key:1,class:"outline"},D={class:"member-item-status"},w={class:"join-days"},A={class:"baned-date"},C={key:0},N={key:1};function Y(s,l,e,V,E,m){const u=r("Avatar"),d=r("RoleTag"),_=r("van-cell"),g=r("van-swipe-cell");return a(),I(g,{class:"member-item"},f({default:o(()=>[i(_,null,{icon:o(()=>[i(u,{class:"avatar",image:e.groupMemberItem.image,address:e.groupMemberItem.userAddress},null,8,["image","address"])]),title:o(()=>[t("div",k,[t("div",R,[i(d,{class:"role-tag",role:e.groupMemberItem.role,userRole:e.groupMemberItem.userRole},null,8,["role","userRole"]),t("div",j,c(e.groupMemberItem.nickname),1)]),t("div",T,[e.groupMemberItem.isOnline?(a(),n("div",x,"\u5F53\u524D\u5728\u7EBF")):(a(),n("div",B,"\u79BB\u7EBF"))])])]),default:o(()=>[t("div",D,[t("div",w,"\u5DF2\u52A0\u5165"+c(m.joinDays(e.groupMemberItem.joinTime))+"\u5929",1),t("div",A,[e.groupMemberItem.status==1?(a(),n("span",C,"\u7981\u8A00\u81F3"+c(s.$dayjs.unix(e.groupMemberItem.bannedExpiredTime).format("YYYY-MM-DD HH:MM:ss")),1)):e.groupMemberItem.status==2?(a(),n("span",N)):y("",!0)])])]),_:1})]),_:2},[(e.groupMemberItem.status==1||e.groupMemberItem.status==2)&&(e.role==1||e.role==2||e.userRole==2||e.userRole==3)?{name:"right",fn:o(()=>[t("div",{class:"unban",onClick:l[0]||(l[0]=(...b)=>m.unbaned&&m.unbaned(...b))},"\u89E3\u9664\u7981\u8A00")])}:void 0]),1024)}const H=h(p,[["render",Y],["__scopeId","data-v-56e2bfd9"]]);export{H as M};
